!function(){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,r(o.key),o)}}function r(t){var r=function(t,r){if("object"!==e(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!==e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===e(r)?r:String(r)}var n=function(){function e(t,n){var o,i,c,u=this,l=t.data,a=t.handleCardClick,s=t.like,f=t.deleteCard;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o=this,c=function(){var e=u._likes.find((function(e){return u._owner===e._id}));return void 0===e&&u._element.querySelector(".picture-card__like-btn").classList.remove("picture-card__like-btn_active"),e},(i=r(i="_hasOwnerLiked"))in o?Object.defineProperty(o,i,{value:c,enumerable:!0,configurable:!0,writable:!0}):o[i]=c,this._title=l.name,this._link=l.link,this._cardSelector=n,this._likes=l.likes,this._like=s,this._cardOwner=l.owner._id,this._owner="a0995efe3421bff16c16b482",this.handleCardClick=a,this._deleteCard=f}var n,o;return n=e,(o=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.querySelector(".picture-card").cloneNode(!0)}},{key:"createCard",value:function(){return this._element=this._getTemplate(),this._setEventListeners(),this._element.querySelector(".picture-card__image").src=this._link,this._element.querySelector(".picture-card__image").alt="".concat(this._title," image"),this._element.querySelector(".picture-card__description").textContent=this._title,this._element.querySelector(".picture-card__likes").textContent=this._likes.length,this._element}},{key:"_setEventListeners",value:function(){var e=this,t=this._element.querySelector(".picture-card__delete-btn");t.addEventListener("click",(function(){e._deleteCard()})),this._cardOwner===this._owner&&t.classList.remove("picture-card__delete-btn_hidden"),this._element.querySelector(".picture-card__like-btn").addEventListener("click",(function(t){e._like(t)})),this._element.querySelector(".picture-card__image").addEventListener("click",(function(){e.handleCardClick(e._title,e._link)}))}}])&&t(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),e}();function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u(n.key),n)}}function c(e,t,r){return(t=u(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===o(t)?t:String(t)}var l=function(){function e(t,r){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),c(this,"_checkInputValidity",(function(e,t){t.validity.valid?n._hideInputError(t):n._showInputError(e,t,t.validationMessage)})),c(this,"_hasInvalidInput",(function(e){return e.some((function(e){return!e.validity.valid}))})),c(this,"_toggleButtonState",(function(e){n._hasInvalidInput(e)?n._buttonElement.classList.add(n._inactiveButtonClass):n._buttonElement.classList.remove(n._inactiveButtonClass)})),c(this,"_showInputError",(function(e,t,r){n._errorElement=e.querySelector(".".concat(t.id,"-error")),n._errorElement.classList.add(n._inputErrorClass),n._errorElement.textContent=r})),c(this,"_hideInputError",(function(){n._errorElement&&(n._errorElement.classList.remove(n._inputErrorClass),n._errorElement.textContent="")})),this._formSelector=t.formSelector,this._inputSelector=t.inputSelector,this._submitButtonSelector=t.submitButtonSelector,this._inactiveButtonClass=t.inactiveButtonClass,this._inputErrorClass=t.inputErrorClass,this.formSelect=r}var t,r;return t=e,(r=[{key:"enableValidation",value:function(){var e=this;this._formElement=document.querySelector(this._formSelector);var t=Array.from(this._formElement.querySelectorAll(".modal__input-field"));t.forEach((function(r){r.addEventListener("input",(function(){e._checkInputValidity(e._formElement,r),e._toggleButtonState(t,e._submitButtonSelector)}))})),this._buttonElement=this._formElement.querySelector(this._submitButtonSelector),this._toggleButtonState(t,this._submitButtonSelector)}}])&&i(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),a=".pictures-container",s={formSelector:".form",inputSelector:".modal__input-field",submitButtonSelector:".modal__submit-btn",inactiveButtonClass:"modal__submit-btn_inactive",inputErrorClass:"modal__input-error_active"};function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==f(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===f(o)?o:String(o)),n)}var o}var m=function(){function e(t,r){var n=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._items=n,this._renderer=o,this._container=document.querySelector(r)}var t,r;return t=e,(r=[{key:"addItem",value:function(e){this._container.append(e)}},{key:"renderer",value:function(){var e=this;this._items.then((function(t){t.forEach((function(t){e._renderer(t)}))}))}}])&&p(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,b(n.key),n)}}function h(e,t,r){return(t=b(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e){var t=function(e,t){if("object"!==y(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===y(t)?t:String(t)}var v=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),h(this,"close",(function(){r._formElement.remove(),document.removeEventListener("click",r.handleClickOutClose),window.removeEventListener("keydown",r._handleEscClose),r._formElement.querySelector(".modal__close-btn").removeEventListener("click",r.close)})),h(this,"_handleEscClose",(function(e){"Escape"===e.key&&r.close()})),h(this,"handleClickOutClose",(function(e){e.target.classList.contains("overlay")&&r.close()})),this.popupSelector=document.querySelector(t)}var t,r;return t=e,(r=[{key:"_getFormTemplate",value:function(){var e=document.querySelector(this.popupSelector).content;return this._formElement=e.querySelector(this.popupSelector.replace("#",".")).cloneNode(!0),this._formElement}},{key:"open",value:function(){return this._formElement=this._getFormTemplate(),this.setEventListeners(),this._formElement.classList.add("overlay"),this._formElement}},{key:"setEventListeners",value:function(){window.addEventListener("keydown",this._handleEscClose),document.addEventListener("click",this.handleClickOutClose),this._formElement.querySelector(".modal__close-btn").addEventListener("click",this.close)}}])&&d(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function S(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==_(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==_(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===_(o)?o:String(o)),n)}var o}function g(){return g="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=w(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},g.apply(this,arguments)}function E(e,t){return E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},E(e,t)}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}var k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E(e,t)}(c,e);var t,r,n,o,i=(n=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=w(n);if(o){var r=w(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function c(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),i.call(this)}return t=c,(r=[{key:"_getPopupTemplate",value:function(){var e=document.querySelector("#popup").content;return this._formElement=e.querySelector(".popup-container").cloneNode(!0),this._formElement}},{key:"open",value:function(e,t){return this._formElement=this._getPopupTemplate(),this._formElement.querySelector(".popup__image").src=t,this._formElement.querySelector(".popup__image").alt="".concat(e," image"),this._formElement.querySelector(".popup__title").textContent=e,this._formElement.classList.add("overlay"),document.querySelector(".pictures-container").append(this._formElement)}},{key:"close",value:function(){g(w(c.prototype),"close",this).call(this)}},{key:"setEventListeners",value:function(){g(w(c.prototype),"setEventListeners",this).call(this)}}])&&S(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(v);function P(e){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P(e)}function j(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==P(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==P(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===P(o)?o:String(o)),n)}var o}function O(){return O="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=q(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},O.apply(this,arguments)}function C(e,t){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},C(e,t)}function q(e){return q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},q(e)}var T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C(e,t)}(c,e);var t,r,n,o,i=(n=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=q(n);if(o){var r=q(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===P(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function c(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(r=i.call(this)).popupSelector=e,r.handleFormSubmit=t,r}return t=c,(r=[{key:"_getFormTemplate",value:function(){var e=document.querySelector(this.popupSelector).content;return this._formElement=e.querySelector(this.popupSelector.replace("#",".")).cloneNode(!0),this._formElement}},{key:"open",value:function(){return O(q(c.prototype),"open",this).call(this),this._formElement=this._getFormTemplate(),this.setEventListeners(),this._formElement.classList.add("overlay"),this._formElement}},{key:"close",value:function(){O(q(c.prototype),"close",this).call(this)}},{key:"_getInputValues",value:function(){return this._link=this._formElement.querySelector("#card-url").value,this._name=this._formElement.querySelector("#card-name").value,this._cardData={name:this._name,link:this._link},this._cardData}},{key:"_getInputUrl",value:function(){return this._avatar=this._formElement.querySelector("#profile-url-picture").value,this._avatar}},{key:"setEventListeners",value:function(){var e=this;O(q(c.prototype),"setEventListeners",this).call(this),this._formElement.addEventListener("submit",(function(t){t.preventDefault(),e.handleFormSubmit(t)}))}}])&&j(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(v);function L(e){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L(e)}function R(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==L(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==L(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===L(o)?o:String(o)),n)}var o}var x=new(function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.baseUrl=t.baseUrl,this.headers=t.headers,this.authorization=t.headers.authorization}var t,r;return t=e,(r=[{key:"getUser",value:function(){return fetch("".concat(this.baseUrl,"/users/me"),{headers:{authorization:this.authorization,"Content-Type":"application/json"}}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))})).catch((function(e){console.log(e)}))}},{key:"getCards",value:function(){return fetch("".concat(this.baseUrl,"/cards"),{headers:{authorization:this.authorization,"Content-Type":"application/json"}}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))})).catch((function(e){console.log(e)}))}},{key:"setProfile",value:function(e){var t=e.name,r=e.about;return fetch("".concat(this.baseUrl,"/users/me"),{method:"PATCH",headers:{authorization:this.authorization,"Content-Type":"application/json"},body:JSON.stringify({name:t,about:r})}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))})).catch((function(e){console.log(e)}))}},{key:"postNewCard",value:function(e){var t=e.name,r=e.link;return fetch("".concat(this.baseUrl,"/cards"),{method:"POST",headers:{authorization:this.authorization,"Content-Type":"application/json"},body:JSON.stringify({name:t,link:r})}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))})).catch((function(e){console.log(e)}))}},{key:"deleteCard",value:function(e){return fetch("".concat(this.baseUrl,"/cards/").concat(e),{method:"DELETE",headers:{authorization:this.authorization,"Content-Type":"application/json"}}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))})).catch((function(e){console.log(e)}))}},{key:"addLike",value:function(e){return fetch("".concat(this.baseUrl,"/cards/likes/").concat(e),{method:"PUT",headers:{authorization:this.authorization,"Content-Type":"application/json"}}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))})).catch((function(e){console.log(e)}))}},{key:"removeLike",value:function(e){return fetch("".concat(this.baseUrl,"/cards/likes/").concat(e),{method:"DELETE",headers:{authorization:this.authorization,"Content-Type":"application/json"}}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))})).catch((function(e){console.log(e)}))}},{key:"setProfilePic",value:function(e){return fetch("".concat(this.baseUrl,"/users/me/avatar"),{method:"PATCH",headers:{authorization:this.authorization,"Content-Type":"application/json"},body:JSON.stringify({avatar:e})}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))})).catch((function(e){console.log(e)}))}}])&&R(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}())({baseUrl:"https://around.nomoreparties.co/v1/web_ptbr_cohort_03",headers:{authorization:"cd11ea9c-4334-427e-8070-b6b80559cc56","Content-Type":"application/json"}});function B(e){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B(e)}function z(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,N(n.key),n)}}function U(e,t,r){return t&&z(e.prototype,t),r&&z(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function I(e,t,r){return(t=N(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N(e){var t=function(e,t){if("object"!==B(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==B(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===B(t)?t:String(t)}var D=U((function e(t){var r=this,n=t.userName,o=t.userAbout;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),I(this,"getUserInfo",(function(){r._getProfileName=document.querySelector("#modal-profile").content.querySelector("#profile-name"),r._getProfileAbout=document.querySelector("#modal-profile").content.querySelector("#profile-description"),r._getProfileName.value=document.querySelector(".profile__name").textContent,r._getProfileAbout.value=document.querySelector(".profile__about-me").textContent})),I(this,"editProfile",(function(){return r._getProfileName=document.querySelector("#profile-name").value,r._getProfileAbout=document.querySelector("#profile-description").value,document.querySelector(".profile__name").textContent=r._getProfileName,document.querySelector(".profile__about-me").textContent=r._getProfileAbout,{name:r._getProfileName,about:r._getProfileAbout}})),this.userName=n,this.userAbout=o}));function A(e){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}function F(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==A(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==A(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===A(o)?o:String(o)),n)}var o}function V(){return V="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=H(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},V.apply(this,arguments)}function J(e,t){return J=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},J(e,t)}function H(e){return H=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},H(e)}var M=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&J(e,t)}(c,e);var t,r,n,o,i=(n=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=H(n);if(o){var r=H(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===A(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function c(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(r=i.call(this)).popupSelector=e,r.handleFormSubmit=t,r}return t=c,(r=[{key:"_getFormTemplate",value:function(){var e=document.querySelector(this.popupSelector).content;return this._formElement=e.querySelector(this.popupSelector.replace("#",".")).cloneNode(!0),this._formElement}},{key:"open",value:function(){return V(H(c.prototype),"open",this).call(this),this._formElement=this._getFormTemplate(),this.setEventListeners(),this._formElement.classList.add("overlay"),this._formElement}},{key:"close",value:function(){V(H(c.prototype),"close",this).call(this)}},{key:"setEventListeners",value:function(){var e=this;V(H(c.prototype),"setEventListeners",this).call(this),this._formElement.addEventListener("submit",(function(t){t.preventDefault(),e.handleFormSubmit(t)}))}}])&&F(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(v);document.querySelector(".profile__add-card-button").addEventListener("click",(function(){K()})),document.querySelector(".profile__edit-button").addEventListener("click",(function(){W()})),document.querySelector(".profile__edit-picture").addEventListener("click",(function(){X()}));var G=new m({items:x.getCards().then((function(e){return e})),renderer:function(e){var t=new n({data:e,handleCardClick:function(e,t){var r=new k("#popup");r.open(e,t),r.setEventListeners()},like:function(t){Z(t,e)},deleteCard:function(){$(e,r)}},".card"),r=t.createCard();t._hasOwnerLiked(),G.addItem(r)}},a);G.renderer();var K=function(){var e=new T("#modal-card",(function(t){t.preventDefault(),t.submitter.innerText="Salvando...";var r=e._getInputValues(),o=new m({items:x.postNewCard({name:r.name,link:r.link}).then((function(e){return[e]})),renderer:function(e){var t=new n({data:e,handleCardClick:function(e,t){var r=new k("#popup");r.open(e,t),r.setEventListeners()},like:function(t){Z(t,e)},deleteCard:function(){$(e,r)}},".card"),r=t.createCard();document.querySelector(".pictures-container").prepend(r),t._hasOwnerLiked()}},a);o.renderer(),setTimeout((function(){document.querySelector(".general-modal").remove()}),100)}));Y(e),new l(s,"#modal-card").enableValidation()},Q=x.getUser(),W=function(){Y(new T("#modal-profile",(function(t){t.preventDefault(),t.submitter.innerText="Salvando...";var r=e.editProfile();x.setProfile({name:r.name,about:r.about}).then((function(){t.submitter.innerText="Salvo",setTimeout((function(){document.querySelector(".general-modal").remove()}),100)}))})));var e=new D({userName:Q,userAbout:Q});e.getUserInfo(),new l(s,"#modal-profile").enableValidation()},X=function(){var e=new T("#modal-profile-picture",(function(t){t.preventDefault();var r=e._getInputUrl();x.setProfilePic(r).then((function(e){document.querySelector(".profile__image").src=e.avatar,setTimeout((function(){document.querySelector(".general-modal").remove()}),100)}))}));Y(e),new l(s,"#modal-profile-picture").enableValidation()};function Y(e){if(null===document.querySelector(".form")){var t=document.querySelector(".pictures-container"),r=e.open();t.append(r)}}function Z(e,t){e.target.classList.contains("picture-card__like-btn_active")?(e.target.classList.remove("picture-card__like-btn_active"),e.target.nextElementSibling.textContent=--t.likes.length,x.removeLike(t._id)):(e.target.classList.add("picture-card__like-btn_active"),e.target.nextElementSibling.textContent=++t.likes.length,x.addLike(t._id))}function $(e,t){Y(new M("#modal-card-delete",(function(){x.deleteCard(e._id).then((function(){setTimeout((function(){document.querySelector(".general-modal").remove(),t.remove()}),100)}))})))}x.getUser().then((function(e){document.querySelector(".profile__name").textContent=e.name,document.querySelector(".profile__about-me").textContent=e.about,document.querySelector(".profile__image").src=e.avatar}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUtoRixPQUVwQmdDLEVBQUl3RCxPQUFPcEYsVUFBVTRDLElBQUksaUNBQ3pCaEIsRUFBSXdELE9BQU93RixtQkFBbUJySixjQUFnQnFELEVBQUtwRSxNQUFNZ0IsT0FDekRrRixFQUFJb0UsUUFBUWxHLEVBQUtoRixLQUVyQixDQUlBLFNBQVNOLEVBQVdzRixFQUFNc0UsR0FZeEJZLEVBWDJCLElBQUl0QixFQUM3QixzQkFDQSxXQUNFOUIsRUFBSXBILFdBQVdzRixFQUFLaEYsS0FBSzhFLE1BQUssV0FDNUJtRixZQUFXLFdBQ1Q5SSxTQUFTaEIsY0FBYyxrQkFBa0JFLFNBQ3pDaUosRUFBWWpKLFFBQ2QsR0FBRyxJQUNMLEdBQ0YsSUFHSixDQWxEQXlHLEVBQUl1RCxVQUFVdkYsTUFBSyxTQUFDdkYsR0FDRTRCLFNBQVNoQixjQUFjLGtCQUMvQndCLFlBQWNwQyxFQUFLaUIsS0FFVlcsU0FBU2hCLGNBQWMsc0JBQy9Cd0IsWUFBY3BDLEVBQUt1SSxNQUVUM0csU0FBU2hCLGNBQWMsbUJBQy9CcUIsSUFBTWpDLEVBQUs4SSxNQUM1QixHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9wdGJyLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X3B0YnIvLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzRfcHRici8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9wdGJyLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X3B0YnIvLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X3B0YnIvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X3B0YnIvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzRfcHRici8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X3B0YnIvLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X3B0YnIvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtYXRpb24uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9wdGJyLy4vc3JjL3BhZ2UvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XG4gIGNvbnN0cnVjdG9yKHsgZGF0YSwgaGFuZGxlQ2FyZENsaWNrLCBsaWtlLCBkZWxldGVDYXJkIH0sIGNhcmRTZWxlY3Rvcikge1xuICAgIHRoaXMuX3RpdGxlID0gZGF0YS5uYW1lO1xuICAgIHRoaXMuX2xpbmsgPSBkYXRhLmxpbms7XG4gICAgdGhpcy5fY2FyZFNlbGVjdG9yID0gY2FyZFNlbGVjdG9yO1xuICAgIHRoaXMuX2xpa2VzID0gZGF0YS5saWtlcztcbiAgICB0aGlzLl9saWtlID0gbGlrZTtcbiAgICB0aGlzLl9jYXJkT3duZXIgPSBkYXRhLm93bmVyLl9pZDtcbiAgICB0aGlzLl9vd25lciA9IFwiYTA5OTVlZmUzNDIxYmZmMTZjMTZiNDgyXCI7XG4gICAgdGhpcy5oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2s7XG4gICAgdGhpcy5fZGVsZXRlQ2FyZCA9IGRlbGV0ZUNhcmQ7XG4gIH1cblxuICAvKiAgUmVjb2xoZSBlIGNsb25hIG8gdGVtcGxhdGUgZG8gY2FyZCovXG5cbiAgX2dldFRlbXBsYXRlKCkge1xuICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gZG9jdW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRTZWxlY3RvcilcbiAgICAgIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGljdHVyZS1jYXJkXCIpXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xuXG4gICAgcmV0dXJuIGNhcmRFbGVtZW50O1xuICB9XG5cbiAgLyogIEF0cmlidWkgb3MgdmFsb3JlcyBwYXJhIGF0cmlidXRvcyBkbyBlbGVtZW50byBlIGNyaWEgbyBjYXJkICovXG5cbiAgY3JlYXRlQ2FyZCgpIHtcbiAgICB0aGlzLl9lbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcblxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG5cbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGljdHVyZS1jYXJkX19pbWFnZVwiKS5zcmMgPSB0aGlzLl9saW5rO1xuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIFwiLnBpY3R1cmUtY2FyZF9faW1hZ2VcIlxuICAgICkuYWx0ID0gYCR7dGhpcy5fdGl0bGV9IGltYWdlYDtcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGljdHVyZS1jYXJkX19kZXNjcmlwdGlvblwiKS50ZXh0Q29udGVudCA9XG4gICAgICB0aGlzLl90aXRsZTtcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGljdHVyZS1jYXJkX19saWtlc1wiKS50ZXh0Q29udGVudCA9XG4gICAgICB0aGlzLl9saWtlcy5sZW5ndGg7XG5cbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcbiAgfVxuXG4gIC8qICBBZGljaW9uYSBvcyBFdmVudExpc3RlbmVycyBub3MgY2FyZHMgICovXG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIGNvbnN0IGRlbGV0ZUJ0biA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5waWN0dXJlLWNhcmRfX2RlbGV0ZS1idG5cIik7XG4gICAgZGVsZXRlQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICB0aGlzLl9kZWxldGVDYXJkKCk7XG4gICAgfSk7XG5cbiAgICBpZiAodGhpcy5fY2FyZE93bmVyID09PSB0aGlzLl9vd25lcikge1xuICAgICAgZGVsZXRlQnRuLmNsYXNzTGlzdC5yZW1vdmUoXCJwaWN0dXJlLWNhcmRfX2RlbGV0ZS1idG5faGlkZGVuXCIpO1xuICAgIH1cblxuICAgIGNvbnN0IGxpa2VCdG4gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGljdHVyZS1jYXJkX19saWtlLWJ0blwiKTtcblxuICAgIGxpa2VCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldnQpID0+IHtcbiAgICAgIHRoaXMuX2xpa2UoZXZ0KTtcbiAgICB9KTtcblxuICAgIGNvbnN0IGNhcmRJbWFnZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5waWN0dXJlLWNhcmRfX2ltYWdlXCIpO1xuICAgIGNhcmRJbWFnZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5oYW5kbGVDYXJkQ2xpY2sodGhpcy5fdGl0bGUsIHRoaXMuX2xpbmspO1xuICAgIH0pO1xuICB9XG5cbiAgX2hhc093bmVyTGlrZWQgPSAoKSA9PiB7XG4gICAgY29uc3QgaXNMaWtlZCA9IHRoaXMuX2xpa2VzLmZpbmQoKGlzTGlrZWQpID0+IHtcbiAgICAgIHJldHVybiB0aGlzLl9vd25lciA9PT0gaXNMaWtlZC5faWQ7XG4gICAgfSk7XG5cbiAgICBpZiAoaXNMaWtlZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb25zdCBsaWtlQnRuID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBpY3R1cmUtY2FyZF9fbGlrZS1idG5cIik7XG4gICAgICBsaWtlQnRuLmNsYXNzTGlzdC5yZW1vdmUoXCJwaWN0dXJlLWNhcmRfX2xpa2UtYnRuX2FjdGl2ZVwiKTtcbiAgICB9XG5cbiAgICByZXR1cm4gaXNMaWtlZDtcbiAgfTtcbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xuICBjb25zdHJ1Y3Rvcihjb25maWdPYmosIGZvcm1TZWxlY3QpIHtcbiAgICB0aGlzLl9mb3JtU2VsZWN0b3IgPSBjb25maWdPYmouZm9ybVNlbGVjdG9yOyAvKiBcIi5mb3JtXCIgKi9cbiAgICB0aGlzLl9pbnB1dFNlbGVjdG9yID0gY29uZmlnT2JqLmlucHV0U2VsZWN0b3I7IC8qIFwiLm1vZGFsX19pbnB1dC1maWVsZFwiICovXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IgPVxuICAgICAgY29uZmlnT2JqLnN1Ym1pdEJ1dHRvblNlbGVjdG9yOyAvKiBcIi5tb2RhbF9fc3VibWl0LWJ0biBcIiovXG4gICAgdGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyA9XG4gICAgICBjb25maWdPYmouaW5hY3RpdmVCdXR0b25DbGFzczsgLyogXCIubW9kYWxfX3N1Ym1pdC1idG5faW5hY3RpdmVcIiAgKi9cbiAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPVxuICAgICAgY29uZmlnT2JqLmlucHV0RXJyb3JDbGFzczsgLyogXCIubW9kYWxfX2lucHV0LWVycm9yX2FjdGl2ZVwiICovXG5cbiAgICB0aGlzLmZvcm1TZWxlY3QgPSBmb3JtU2VsZWN0O1xuICB9XG5cbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fZm9ybVNlbGVjdG9yKTtcblxuICAgIGNvbnN0IGlucHV0TGlzdCA9IEFycmF5LmZyb20oXG4gICAgICB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm1vZGFsX19pbnB1dC1maWVsZFwiKVxuICAgICk7XG5cbiAgICBpbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KHRoaXMuX2Zvcm1FbGVtZW50LCBpbnB1dEVsZW1lbnQpO1xuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZShpbnB1dExpc3QsIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvclxuICAgICk7XG5cbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZShpbnB1dExpc3QsIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcbiAgfVxuICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gIFZhbGlkYcOnw7VlcyAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgLyogIEFwcmVzZW50YSBvdSBlc2NvbmRlIG9zIGVsZW1lbnRvcyBkZSBlcnJvIGNhc28gbyBpbnB1dCBmb3IgaW52w6FsaWRvICovXG5cbiAgX2NoZWNrSW5wdXRWYWxpZGl0eSA9IChfZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCkgPT4ge1xuICAgIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihcbiAgICAgICAgX2Zvcm1FbGVtZW50LFxuICAgICAgICBpbnB1dEVsZW1lbnQsXG4gICAgICAgIGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZVxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICB9XG4gIH07XG5cbiAgLyogIFZhbGlkYSBzZSBvcyBjYW1wb3MgcG9zc3VlbSB1bSBpbnB1dCBpbnbDoWxpZG8gKi9cblxuICBfaGFzSW52YWxpZElucHV0ID0gKGlucHV0TGlzdCkgPT4ge1xuICAgIHJldHVybiBpbnB1dExpc3Quc29tZSgoaW5wdXRFbGVtZW50KSA9PiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKTtcbiAgfTtcblxuICAvKiAgQWx0ZXJhIG8gZXN0YWRvIGRvIGJvdMOjbyBkZSBzdWJtaXQgZGVwZW5kZW5kbyBkbyByZXRvcm5vIGRhIHZhbGlkYcOnw6NvICovXG5cbiAgX3RvZ2dsZUJ1dHRvblN0YXRlID0gKGlucHV0TGlzdCkgPT4ge1xuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQoaW5wdXRMaXN0KSkge1xuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgfVxuICB9O1xuXG4gIC8qICBBcHJlc2VudGEgbyBlbGVtZW50byBkZSBlcnJvIGRvcyBpbnB1dHMgcmV0b3JuYWRvIHBlbGEgdmFsaWRhw6fDo28gICovXG5cbiAgX3Nob3dJbnB1dEVycm9yID0gKF9mb3JtRWxlbWVudCwgaW5wdXRFbGVtZW50LCBlcnJvck1lc3NhZ2UpID0+IHtcbiAgICB0aGlzLl9lcnJvckVsZW1lbnQgPSBfZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYFxuICAgICk7XG4gICAgdGhpcy5fZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcbiAgICB0aGlzLl9lcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBlcnJvck1lc3NhZ2U7XG4gIH07XG5cbiAgLyogIEVzY29uZGUgbyBlbGVtZW50byBkZSBlcnJvIGRvcyBpbnB1dHMgcmV0b3JuYWRvIHBlbGEgdmFsaWRhw6fDo28gICovXG5cbiAgX2hpZGVJbnB1dEVycm9yID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLl9lcnJvckVsZW1lbnQpIHtcbiAgICAgIHRoaXMuX2Vycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG4gICAgICB0aGlzLl9lcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xuICAgIH1cbiAgfTtcbn1cbiIsImV4cG9ydCB7IGNvbmZpZ09iaiB9O1xuXG5leHBvcnQgY29uc3QgY2FyZENvbnRhaW5lciA9IFwiLnBpY3R1cmVzLWNvbnRhaW5lclwiO1xuXG5jb25zdCBjb25maWdPYmogPSB7XG4gIGZvcm1TZWxlY3RvcjogXCIuZm9ybVwiLFxuICBpbnB1dFNlbGVjdG9yOiBcIi5tb2RhbF9faW5wdXQtZmllbGRcIixcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLm1vZGFsX19zdWJtaXQtYnRuXCIsXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwibW9kYWxfX3N1Ym1pdC1idG5faW5hY3RpdmVcIixcbiAgaW5wdXRFcnJvckNsYXNzOiBcIm1vZGFsX19pbnB1dC1lcnJvcl9hY3RpdmVcIixcbn07XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcbiAgY29uc3RydWN0b3IoeyBpdGVtcywgcmVuZGVyZXIgfSwgY2xhc3NTZWxlY3Rvcikge1xuICAgIHRoaXMuX2l0ZW1zID0gaXRlbXM7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNsYXNzU2VsZWN0b3IpO1xuICB9XG5cbiAgYWRkSXRlbShlbGVtZW50KSB7XG4gICAgdGhpcy5fY29udGFpbmVyLmFwcGVuZChlbGVtZW50KTtcbiAgfVxuXG4gIHJlbmRlcmVyKCkge1xuICAgIHRoaXMuX2l0ZW1zLnRoZW4oKHJlcykgPT4ge1xuICAgICAgcmVzLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgdGhpcy5wb3B1cFNlbGVjdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcbiAgfVxuXG4gIF9nZXRGb3JtVGVtcGxhdGUoKSB7XG4gICAgY29uc3QgZm9ybVRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLnBvcHVwU2VsZWN0b3IpLmNvbnRlbnQ7XG5cbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1UZW1wbGF0ZVxuICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5wb3B1cFNlbGVjdG9yLnJlcGxhY2UoXCIjXCIsIFwiLlwiKSlcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XG5cbiAgICByZXR1cm4gdGhpcy5fZm9ybUVsZW1lbnQ7XG4gIH1cblxuICBvcGVuKCkge1xuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gdGhpcy5fZ2V0Rm9ybVRlbXBsYXRlKCk7XG4gICAgdGhpcy5zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHRoaXMuX2Zvcm1FbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJvdmVybGF5XCIpO1xuXG4gICAgcmV0dXJuIHRoaXMuX2Zvcm1FbGVtZW50O1xuICB9XG5cbiAgY2xvc2UgPSAoKSA9PiB7XG4gICAgdGhpcy5fZm9ybUVsZW1lbnQucmVtb3ZlKCk7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuaGFuZGxlQ2xpY2tPdXRDbG9zZSk7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgICBjb25zdCBjbG9zZUJ0biA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Nsb3NlLWJ0blwiKTtcbiAgICBjbG9zZUJ0bi5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5jbG9zZSk7XG4gIH07XG5cbiAgX2hhbmRsZUVzY0Nsb3NlID0gKGV2dCkgPT4ge1xuICAgIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9O1xuXG4gIGhhbmRsZUNsaWNrT3V0Q2xvc2UgPSAoZXZ0KSA9PiB7XG4gICAgaWYgKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwib3ZlcmxheVwiKSkge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cbiAgfTtcblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmhhbmRsZUNsaWNrT3V0Q2xvc2UpO1xuICAgIGNvbnN0IGNsb3NlQnRuID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fY2xvc2UtYnRuXCIpO1xuICAgIGNsb3NlQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmNsb3NlKTtcbiAgfVxufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyogIFJlY29saGUgZSBjbG9uYSBvIHRlbXBsYXRlIGRvIHBvcHVwICovXG4gIF9nZXRQb3B1cFRlbXBsYXRlKCkge1xuICAgIGNvbnN0IHBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwb3B1cFwiKS5jb250ZW50O1xuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gcG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cC1jb250YWluZXJcIikuY2xvbmVOb2RlKHRydWUpO1xuXG4gICAgcmV0dXJuIHRoaXMuX2Zvcm1FbGVtZW50O1xuICB9XG5cbiAgLyogIEF0cmlidWkgb3MgdmFsb3JlcyBwYXJhIGFzIG1hcmNhw6fDtWVzIGRvIHBvcHVwIGUgYWRpY2lvbmEgYW8gRE9NICovXG4gIG9wZW4obmFtZSwgbGluaykge1xuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gdGhpcy5fZ2V0UG9wdXBUZW1wbGF0ZSgpO1xuXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW1hZ2VcIikuc3JjID0gbGluaztcbiAgICB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pbWFnZVwiKS5hbHQgPSBgJHtuYW1lfSBpbWFnZWA7XG4gICAgdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fdGl0bGVcIikudGV4dENvbnRlbnQgPSBuYW1lO1xuXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQuY2xhc3NMaXN0LmFkZChcIm92ZXJsYXlcIik7XG5cbiAgICBjb25zdCBjYXJkQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5waWN0dXJlcy1jb250YWluZXJcIik7XG5cbiAgICByZXR1cm4gY2FyZENvbnRhaW5lci5hcHBlbmQodGhpcy5fZm9ybUVsZW1lbnQpO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgc3VwZXIuY2xvc2UoKTtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBoYW5kbGVGb3JtU3VibWl0KSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLnBvcHVwU2VsZWN0b3IgPSBwb3B1cFNlbGVjdG9yO1xuICAgIHRoaXMuaGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XG4gIH1cblxuICBfZ2V0Rm9ybVRlbXBsYXRlKCkge1xuICAgIGNvbnN0IGZvcm1UZW1wbGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5wb3B1cFNlbGVjdG9yKS5jb250ZW50O1xuXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSBmb3JtVGVtcGxhdGVcbiAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMucG9wdXBTZWxlY3Rvci5yZXBsYWNlKFwiI1wiLCBcIi5cIikpXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xuXG4gICAgcmV0dXJuIHRoaXMuX2Zvcm1FbGVtZW50O1xuICB9XG5cbiAgb3BlbigpIHtcbiAgICBzdXBlci5vcGVuKCk7XG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSB0aGlzLl9nZXRGb3JtVGVtcGxhdGUoKTtcbiAgICB0aGlzLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fZm9ybUVsZW1lbnQuY2xhc3NMaXN0LmFkZChcIm92ZXJsYXlcIik7XG5cbiAgICByZXR1cm4gdGhpcy5fZm9ybUVsZW1lbnQ7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICBzdXBlci5jbG9zZSgpO1xuICB9XG5cbiAgX2dldElucHV0VmFsdWVzKCkge1xuICAgIHRoaXMuX2xpbmsgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiI2NhcmQtdXJsXCIpLnZhbHVlO1xuICAgIHRoaXMuX25hbWUgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiI2NhcmQtbmFtZVwiKS52YWx1ZTtcblxuICAgIHRoaXMuX2NhcmREYXRhID0ge1xuICAgICAgbmFtZTogdGhpcy5fbmFtZSxcbiAgICAgIGxpbms6IHRoaXMuX2xpbmssXG4gICAgfTtcblxuICAgIHJldHVybiB0aGlzLl9jYXJkRGF0YTtcbiAgfVxuXG4gIF9nZXRJbnB1dFVybCgpIHtcbiAgICB0aGlzLl9hdmF0YXIgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgXCIjcHJvZmlsZS11cmwtcGljdHVyZVwiXG4gICAgKS52YWx1ZTtcblxuICAgIHJldHVybiB0aGlzLl9hdmF0YXI7XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuaGFuZGxlRm9ybVN1Ym1pdChldnQpO1xuICAgIH0pO1xuICB9XG59XG4iLCJleHBvcnQgeyBhcGkgfTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICh0aGlzLmJhc2VVcmwgPSBvcHRpb25zLmJhc2VVcmwpLFxuICAgICAgKHRoaXMuaGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycyksXG4gICAgICAodGhpcy5hdXRob3JpemF0aW9uID0gb3B0aW9ucy5oZWFkZXJzLmF1dGhvcml6YXRpb24pO1xuICB9XG5cbiAgZ2V0VXNlcigpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5iYXNlVXJsfS91c2Vycy9tZWAsIHtcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5hdXRob3JpemF0aW9uLFxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgIH0sXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgfSk7XG4gIH1cblxuICBnZXRDYXJkcygpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5iYXNlVXJsfS9jYXJkc2AsIHtcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5hdXRob3JpemF0aW9uLFxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgIH0sXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgfSk7XG4gIH1cblxuICBzZXRQcm9maWxlKHsgbmFtZSwgYWJvdXQgfSkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLmJhc2VVcmx9L3VzZXJzL21lYCwge1xuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuYXV0aG9yaXphdGlvbixcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICBhYm91dDogYWJvdXQsXG4gICAgICB9KSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICB9KTtcbiAgfVxuXG4gIHBvc3ROZXdDYXJkKHsgbmFtZSwgbGluayB9KSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuYmFzZVVybH0vY2FyZHNgLCB7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLmF1dGhvcml6YXRpb24sXG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgbGluazogbGluayxcbiAgICAgIH0pLFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgZGVsZXRlQ2FyZChjYXJkSWQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5iYXNlVXJsfS9jYXJkcy8ke2NhcmRJZH1gLCB7XG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuYXV0aG9yaXphdGlvbixcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICB9LFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgYWRkTGlrZShjYXJkSWQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5iYXNlVXJsfS9jYXJkcy9saWtlcy8ke2NhcmRJZH1gLCB7XG4gICAgICBtZXRob2Q6IFwiUFVUXCIsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuYXV0aG9yaXphdGlvbixcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICB9LFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgcmVtb3ZlTGlrZShjYXJkSWQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5iYXNlVXJsfS9jYXJkcy9saWtlcy8ke2NhcmRJZH1gLCB7XG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuYXV0aG9yaXphdGlvbixcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICB9LFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgc2V0UHJvZmlsZVBpYyhhdmF0YXIpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5iYXNlVXJsfS91c2Vycy9tZS9hdmF0YXJgLCB7XG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5hdXRob3JpemF0aW9uLFxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIGF2YXRhcjogYXZhdGFyLFxuICAgICAgfSksXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgfSk7XG4gIH1cbn1cblxuY29uc3QgYXBpID0gbmV3IEFwaSh7XG4gIGJhc2VVcmw6IFwiaHR0cHM6Ly9hcm91bmQubm9tb3JlcGFydGllcy5jby92MS93ZWJfcHRicl9jb2hvcnRfMDNcIixcbiAgaGVhZGVyczoge1xuICAgIGF1dGhvcml6YXRpb246IFwiY2QxMWVhOWMtNDMzNC00MjdlLTgwNzAtYjZiODA1NTljYzU2XCIsXG4gICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gIH0sXG59KTtcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcbiAgY29uc3RydWN0b3IoeyB1c2VyTmFtZSwgdXNlckFib3V0IH0pIHtcbiAgICB0aGlzLnVzZXJOYW1lID0gdXNlck5hbWU7XG4gICAgdGhpcy51c2VyQWJvdXQgPSB1c2VyQWJvdXQ7XG4gIH1cblxuICAvKiBDb2xldGEgb3MgZGFkb3MgZG8gcGVyZmlsICovXG5cbiAgZ2V0VXNlckluZm8gPSAoKSA9PiB7XG4gICAgdGhpcy5fZ2V0UHJvZmlsZU5hbWUgPSBkb2N1bWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIjbW9kYWwtcHJvZmlsZVwiKVxuICAgICAgLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLW5hbWVcIik7XG5cbiAgICB0aGlzLl9nZXRQcm9maWxlQWJvdXQgPSBkb2N1bWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIjbW9kYWwtcHJvZmlsZVwiKVxuICAgICAgLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLWRlc2NyaXB0aW9uXCIpO1xuXG4gICAgdGhpcy5fZ2V0UHJvZmlsZU5hbWUudmFsdWUgPVxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19uYW1lXCIpLnRleHRDb250ZW50O1xuICAgIHRoaXMuX2dldFByb2ZpbGVBYm91dC52YWx1ZSA9XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2Fib3V0LW1lXCIpLnRleHRDb250ZW50O1xuICB9O1xuXG4gIC8qIEVkaXRhIG9zIGRhZG9zIGRvIHBlcmZpbCAqL1xuXG4gIGVkaXRQcm9maWxlID0gKCkgPT4ge1xuICAgIHRoaXMuX2dldFByb2ZpbGVOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLW5hbWVcIikudmFsdWU7XG4gICAgdGhpcy5fZ2V0UHJvZmlsZUFib3V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIFwiI3Byb2ZpbGUtZGVzY3JpcHRpb25cIlxuICAgICkudmFsdWU7XG5cbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX25hbWVcIikudGV4dENvbnRlbnQgPSB0aGlzLl9nZXRQcm9maWxlTmFtZTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2Fib3V0LW1lXCIpLnRleHRDb250ZW50ID1cbiAgICAgIHRoaXMuX2dldFByb2ZpbGVBYm91dDtcblxuICAgIGNvbnN0IHVzZXJEYXRhID0ge1xuICAgICAgbmFtZTogdGhpcy5fZ2V0UHJvZmlsZU5hbWUsXG4gICAgICBhYm91dDogdGhpcy5fZ2V0UHJvZmlsZUFib3V0LFxuICAgIH07XG5cbiAgICByZXR1cm4gdXNlckRhdGE7XG4gIH07XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXBcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoQ29uZmlybWF0aW9uIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBoYW5kbGVGb3JtU3VibWl0KSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLnBvcHVwU2VsZWN0b3IgPSBwb3B1cFNlbGVjdG9yO1xuICAgIHRoaXMuaGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XG4gIH1cblxuICBfZ2V0Rm9ybVRlbXBsYXRlKCkge1xuICAgIGNvbnN0IGZvcm1UZW1wbGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5wb3B1cFNlbGVjdG9yKS5jb250ZW50O1xuXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSBmb3JtVGVtcGxhdGVcbiAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMucG9wdXBTZWxlY3Rvci5yZXBsYWNlKFwiI1wiLCBcIi5cIikpXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xuXG4gICAgcmV0dXJuIHRoaXMuX2Zvcm1FbGVtZW50O1xuICB9XG5cbiAgb3BlbigpIHtcbiAgICBzdXBlci5vcGVuKCk7XG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSB0aGlzLl9nZXRGb3JtVGVtcGxhdGUoKTtcbiAgICB0aGlzLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fZm9ybUVsZW1lbnQuY2xhc3NMaXN0LmFkZChcIm92ZXJsYXlcIik7XG5cbiAgICByZXR1cm4gdGhpcy5fZm9ybUVsZW1lbnQ7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICBzdXBlci5jbG9zZSgpO1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuICAgIHRoaXMuX2Zvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLmhhbmRsZUZvcm1TdWJtaXQoZXZ0KTtcbiAgICB9KTtcbiAgfVxufVxuIiwiaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcbmltcG9ydCBDYXJkIGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmQuanNcIjtcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcbmltcG9ydCB7IGNvbmZpZ09iaiB9IGZyb20gXCIuLi91dGlscy9jb25zdGFudHMuanNcIjtcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcbmltcG9ydCB7IGNhcmRDb250YWluZXIgfSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcbmltcG9ydCB7IGFwaSB9IGZyb20gXCIuLi9jb21wb25lbnRzL0FwaS5qc1wiO1xuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoQ29uZmlybWF0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aENvbmZpcm1hdGlvblwiO1xuXG4vKiAgQWRpY2lvbmFuZG8gRXZlbnRMaXN0ZW5lcnMgYW9zIGJvdMO1ZXMgZGUgYWRpY2lvbmFyIGUgZWRpdGFyIHBlcmZpbCAgKi9cblxuKGZ1bmN0aW9uICgpIHtcbiAgY29uc3QgYWRkQ2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYWRkLWNhcmQtYnV0dG9uXCIpO1xuICBhZGRDYXJkLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgcmVuZGVyQ2FyZEZvcm0oKTtcbiAgfSk7XG5cbiAgY29uc3QgZWRpdFByb2ZpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2VkaXQtYnV0dG9uXCIpO1xuICBlZGl0UHJvZmlsZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgIHJlbmRlclByb2ZpbGVGb3JtKCk7XG4gIH0pO1xuXG4gIGNvbnN0IGVkaXRQcm9maWxlUGljID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19lZGl0LXBpY3R1cmVcIik7XG4gIGVkaXRQcm9maWxlUGljLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgcmVuZGVyUGljdHVyZUZvcm0oKTtcbiAgfSk7XG59KSgpO1xuXG4vKiAgUmVjZWJlbmRvIGNhcmRzIGV4aXN0ZW50ZXMgZGEgQVBJIGFvIERPTSAqL1xuXG5jb25zdCBjYXJkTGlzdCA9IG5ldyBTZWN0aW9uKFxuICB7XG4gICAgaXRlbXM6IGFwaS5nZXRDYXJkcygpLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH0pLFxuICAgIHJlbmRlcmVyOiAoaXRlbSkgPT4ge1xuICAgICAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKFxuICAgICAgICB7XG4gICAgICAgICAgZGF0YTogaXRlbSxcbiAgICAgICAgICBoYW5kbGVDYXJkQ2xpY2s6IChuYW1lLCBsaW5rKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwb3B1cEltZyA9IG5ldyBQb3B1cFdpdGhJbWFnZShcIiNwb3B1cFwiKTtcbiAgICAgICAgICAgIHBvcHVwSW1nLm9wZW4obmFtZSwgbGluayk7XG4gICAgICAgICAgICBwb3B1cEltZy5zZXRFdmVudExpc3RlbmVycygpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgbGlrZTogKGV2dCkgPT4ge1xuICAgICAgICAgICAgc2V0TGlrZShldnQsIGl0ZW0pO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZGVsZXRlQ2FyZDogKCkgPT4ge1xuICAgICAgICAgICAgZGVsZXRlQ2FyZChpdGVtLCBjYXJkRWxlbWVudCk7XG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgXCIuY2FyZFwiXG4gICAgICApO1xuICAgICAgY29uc3QgY2FyZEVsZW1lbnQgPSBjYXJkLmNyZWF0ZUNhcmQoKTtcbiAgICAgIGNhcmQuX2hhc093bmVyTGlrZWQoKTtcbiAgICAgIGNhcmRMaXN0LmFkZEl0ZW0oY2FyZEVsZW1lbnQpO1xuICAgIH0sXG4gIH0sXG4gIGNhcmRDb250YWluZXJcbik7XG5cbmNhcmRMaXN0LnJlbmRlcmVyKCk7XG5cbi8qICBBYnJpbmRvIGZvcm11bMOhcmlvIGRlIGNhcmQgKi9cblxuZXhwb3J0IGNvbnN0IHJlbmRlckNhcmRGb3JtID0gKCkgPT4ge1xuICBjb25zdCBuZXdGb3JtID0gbmV3IFBvcHVwV2l0aEZvcm0oXCIjbW9kYWwtY2FyZFwiLCAoZXZ0KSA9PiB7XG4gICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgZXZ0LnN1Ym1pdHRlci5pbm5lclRleHQgPSBcIlNhbHZhbmRvLi4uXCI7XG4gICAgY29uc3QgY2FyZERhdGEgPSBuZXdGb3JtLl9nZXRJbnB1dFZhbHVlcygpO1xuXG4gICAgY29uc3QgbmV3Q2FyZCA9IG5ldyBTZWN0aW9uKFxuICAgICAge1xuICAgICAgICBpdGVtczogYXBpXG4gICAgICAgICAgLnBvc3ROZXdDYXJkKHtcbiAgICAgICAgICAgIG5hbWU6IGNhcmREYXRhLm5hbWUsXG4gICAgICAgICAgICBsaW5rOiBjYXJkRGF0YS5saW5rLFxuICAgICAgICAgIH0pXG4gICAgICAgICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBbZGF0YV07XG4gICAgICAgICAgfSksXG4gICAgICAgIHJlbmRlcmVyOiAoaXRlbSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgZGF0YTogaXRlbSxcbiAgICAgICAgICAgICAgaGFuZGxlQ2FyZENsaWNrOiAobmFtZSwgbGluaykgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBvcHVwSW1nID0gbmV3IFBvcHVwV2l0aEltYWdlKFwiI3BvcHVwXCIpO1xuICAgICAgICAgICAgICAgIHBvcHVwSW1nLm9wZW4obmFtZSwgbGluayk7XG4gICAgICAgICAgICAgICAgcG9wdXBJbWcuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgbGlrZTogKGV2dCkgPT4ge1xuICAgICAgICAgICAgICAgIHNldExpa2UoZXZ0LCBpdGVtKTtcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgZGVsZXRlQ2FyZDogKCkgPT4ge1xuICAgICAgICAgICAgICAgIGRlbGV0ZUNhcmQoaXRlbSwgY2FyZEVsZW1lbnQpO1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiLmNhcmRcIlxuICAgICAgICAgICk7XG4gICAgICAgICAgY29uc3QgY2FyZEVsZW1lbnQgPSBjYXJkLmNyZWF0ZUNhcmQoKTtcbiAgICAgICAgICBjb25zdCBjYXJkQ29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGljdHVyZXMtY29udGFpbmVyXCIpO1xuICAgICAgICAgIGNhcmRDb250ZW50LnByZXBlbmQoY2FyZEVsZW1lbnQpO1xuXG4gICAgICAgICAgY2FyZC5faGFzT3duZXJMaWtlZCgpO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGNhcmRDb250YWluZXJcbiAgICApO1xuICAgIG5ld0NhcmQucmVuZGVyZXIoKTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZ2VuZXJhbC1tb2RhbFwiKS5yZW1vdmUoKTtcbiAgICB9LCAxMDApO1xuICB9KTtcblxuICBpc1NpbmdsZUZvcm0obmV3Rm9ybSk7XG4gIG5ldyBGb3JtVmFsaWRhdG9yKGNvbmZpZ09iaiwgXCIjbW9kYWwtY2FyZFwiKS5lbmFibGVWYWxpZGF0aW9uKCk7XG59O1xuXG4vKiAgQWJyaW5kbyBmb3JtdWzDoXJpbyBkZSBwZXJmaWwgKi9cbmNvbnN0IHVzZXIgPSBhcGkuZ2V0VXNlcigpO1xuZXhwb3J0IGNvbnN0IHJlbmRlclByb2ZpbGVGb3JtID0gKCkgPT4ge1xuICBjb25zdCBuZXdGb3JtID0gbmV3IFBvcHVwV2l0aEZvcm0oXCIjbW9kYWwtcHJvZmlsZVwiLCAoZXZ0KSA9PiB7XG4gICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgZXZ0LnN1Ym1pdHRlci5pbm5lclRleHQgPSBcIlNhbHZhbmRvLi4uXCI7XG4gICAgY29uc3QgdXNlckRhdGEgPSB1c2VySW5mby5lZGl0UHJvZmlsZSgpO1xuICAgIGFwaS5zZXRQcm9maWxlKHsgbmFtZTogdXNlckRhdGEubmFtZSwgYWJvdXQ6IHVzZXJEYXRhLmFib3V0IH0pLnRoZW4oKCkgPT4ge1xuICAgICAgZXZ0LnN1Ym1pdHRlci5pbm5lclRleHQgPSBcIlNhbHZvXCI7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5nZW5lcmFsLW1vZGFsXCIpLnJlbW92ZSgpO1xuICAgICAgfSwgMTAwKTtcbiAgICB9KTtcbiAgfSk7XG4gIGlzU2luZ2xlRm9ybShuZXdGb3JtKTtcblxuICBjb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyh7XG4gICAgdXNlck5hbWU6IHVzZXIsXG4gICAgdXNlckFib3V0OiB1c2VyLFxuICB9KTtcblxuICB1c2VySW5mby5nZXRVc2VySW5mbygpO1xuXG4gIG5ldyBGb3JtVmFsaWRhdG9yKGNvbmZpZ09iaiwgXCIjbW9kYWwtcHJvZmlsZVwiKS5lbmFibGVWYWxpZGF0aW9uKCk7XG59O1xuXG4vKiBBbHRlcmFuZG8gZm90byBkZSBwZXJmaWwgKi9cblxuY29uc3QgcmVuZGVyUGljdHVyZUZvcm0gPSAoKSA9PiB7XG4gIGNvbnN0IG5ld0Zvcm0gPSBuZXcgUG9wdXBXaXRoRm9ybShcIiNtb2RhbC1wcm9maWxlLXBpY3R1cmVcIiwgKGV2dCkgPT4ge1xuICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IHVybCA9IG5ld0Zvcm0uX2dldElucHV0VXJsKCk7XG5cbiAgICBhcGkuc2V0UHJvZmlsZVBpYyh1cmwpLnRoZW4oKHJlcykgPT4ge1xuICAgICAgY29uc3QgcHJvZmlsZVBpY3R1cmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2ltYWdlXCIpO1xuICAgICAgcHJvZmlsZVBpY3R1cmUuc3JjID0gcmVzLmF2YXRhcjtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmdlbmVyYWwtbW9kYWxcIikucmVtb3ZlKCk7XG4gICAgICB9LCAxMDApO1xuICAgIH0pO1xuICB9KTtcbiAgaXNTaW5nbGVGb3JtKG5ld0Zvcm0pO1xuICBuZXcgRm9ybVZhbGlkYXRvcihjb25maWdPYmosIFwiI21vZGFsLXByb2ZpbGUtcGljdHVyZVwiKS5lbmFibGVWYWxpZGF0aW9uKCk7XG59O1xuXG4vKiBSZWNlYmVuZG8gZGFkb3MgZGUgdXN1w6FyaW8gYXR1YWxpemFkb3MgYW8gaW5pY2lhciAgKi9cblxuYXBpLmdldFVzZXIoKS50aGVuKChkYXRhKSA9PiB7XG4gIGNvbnN0IHByb2ZpbGVOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19uYW1lXCIpO1xuICBwcm9maWxlTmFtZS50ZXh0Q29udGVudCA9IGRhdGEubmFtZTtcblxuICBjb25zdCBwcm9maWxlQWJvdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2Fib3V0LW1lXCIpO1xuICBwcm9maWxlQWJvdXQudGV4dENvbnRlbnQgPSBkYXRhLmFib3V0O1xuXG4gIGNvbnN0IHByb2ZpbGVQaWN0dXJlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19pbWFnZVwiKTtcbiAgcHJvZmlsZVBpY3R1cmUuc3JjID0gZGF0YS5hdmF0YXI7XG59KTtcblxuLyogVmFsaWRhIHNlIGV4aXN0ZSBvdXRybyBmb3JtdWzDoXJpbyBhYmVydG8gYW50ZXMgZGUgYWRpY2lvbmFyIHVtIG5vdm8gKi9cblxuZnVuY3Rpb24gaXNTaW5nbGVGb3JtKG5ld0Zvcm0pIHtcbiAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybVwiKSA9PT0gbnVsbCkge1xuICAgIGNvbnN0IG1haW5Db250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBpY3R1cmVzLWNvbnRhaW5lclwiKTtcbiAgICBjb25zdCBuZXdGb3JtRWxlbWVudCA9IG5ld0Zvcm0ub3BlbigpO1xuICAgIG1haW5Db250YWluZXIuYXBwZW5kKG5ld0Zvcm1FbGVtZW50KTtcbiAgfVxufVxuXG4vKiBBbHRlcmEgb3MgZXN0YWRvcyBkZSBsaWtlICovXG5cbmZ1bmN0aW9uIHNldExpa2UoZXZ0LCBpdGVtKSB7XG4gIGlmIChldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcInBpY3R1cmUtY2FyZF9fbGlrZS1idG5fYWN0aXZlXCIpKSB7XG4gICAgZXZ0LnRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKFwicGljdHVyZS1jYXJkX19saWtlLWJ0bl9hY3RpdmVcIik7XG4gICAgZXZ0LnRhcmdldC5uZXh0RWxlbWVudFNpYmxpbmcudGV4dENvbnRlbnQgPSAtLWl0ZW0ubGlrZXMubGVuZ3RoO1xuICAgIGFwaS5yZW1vdmVMaWtlKGl0ZW0uX2lkKTtcbiAgfSBlbHNlIHtcbiAgICBldnQudGFyZ2V0LmNsYXNzTGlzdC5hZGQoXCJwaWN0dXJlLWNhcmRfX2xpa2UtYnRuX2FjdGl2ZVwiKTtcbiAgICBldnQudGFyZ2V0Lm5leHRFbGVtZW50U2libGluZy50ZXh0Q29udGVudCA9ICsraXRlbS5saWtlcy5sZW5ndGg7XG4gICAgYXBpLmFkZExpa2UoaXRlbS5faWQpO1xuICB9XG59XG5cbi8qIERlbGV0YSBvcyBjYXJkcyAqL1xuXG5mdW5jdGlvbiBkZWxldGVDYXJkKGl0ZW0sIGNhcmRFbGVtZW50KSB7XG4gIGNvbnN0IGRlbGV0ZUNvbmZpcm1hdGlvbiA9IG5ldyBQb3B1cFdpdGhDb25maXJtYXRpb24oXG4gICAgXCIjbW9kYWwtY2FyZC1kZWxldGVcIixcbiAgICAoKSA9PiB7XG4gICAgICBhcGkuZGVsZXRlQ2FyZChpdGVtLl9pZCkudGhlbigoKSA9PiB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZ2VuZXJhbC1tb2RhbFwiKS5yZW1vdmUoKTtcbiAgICAgICAgICBjYXJkRWxlbWVudC5yZW1vdmUoKTtcbiAgICAgICAgfSwgMTAwKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgKTtcbiAgaXNTaW5nbGVGb3JtKGRlbGV0ZUNvbmZpcm1hdGlvbik7XG59XG4iXSwibmFtZXMiOlsiQ2FyZCIsIl9yZWYiLCJjYXJkU2VsZWN0b3IiLCJfdGhpcyIsImRhdGEiLCJoYW5kbGVDYXJkQ2xpY2siLCJsaWtlIiwiZGVsZXRlQ2FyZCIsIl9jbGFzc0NhbGxDaGVjayIsImlzTGlrZWQiLCJfbGlrZXMiLCJmaW5kIiwiX293bmVyIiwiX2lkIiwidW5kZWZpbmVkIiwiX2VsZW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwidGhpcyIsIl90aXRsZSIsIm5hbWUiLCJfbGluayIsImxpbmsiLCJfY2FyZFNlbGVjdG9yIiwibGlrZXMiLCJfbGlrZSIsIl9jYXJkT3duZXIiLCJvd25lciIsIl9kZWxldGVDYXJkIiwia2V5IiwidmFsdWUiLCJkb2N1bWVudCIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJfZ2V0VGVtcGxhdGUiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJzcmMiLCJhbHQiLCJjb25jYXQiLCJ0ZXh0Q29udGVudCIsImxlbmd0aCIsIl90aGlzMiIsImRlbGV0ZUJ0biIsImFkZEV2ZW50TGlzdGVuZXIiLCJldnQiLCJGb3JtVmFsaWRhdG9yIiwiY29uZmlnT2JqIiwiZm9ybVNlbGVjdCIsIl9kZWZpbmVQcm9wZXJ0eSIsIl9mb3JtRWxlbWVudCIsImlucHV0RWxlbWVudCIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGlkZUlucHV0RXJyb3IiLCJfc2hvd0lucHV0RXJyb3IiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsImlucHV0TGlzdCIsInNvbWUiLCJfaGFzSW52YWxpZElucHV0IiwiX2J1dHRvbkVsZW1lbnQiLCJhZGQiLCJfaW5hY3RpdmVCdXR0b25DbGFzcyIsImVycm9yTWVzc2FnZSIsIl9lcnJvckVsZW1lbnQiLCJpZCIsIl9pbnB1dEVycm9yQ2xhc3MiLCJfZm9ybVNlbGVjdG9yIiwiZm9ybVNlbGVjdG9yIiwiX2lucHV0U2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwiX3N1Ym1pdEJ1dHRvblNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiY2FyZENvbnRhaW5lciIsIlNlY3Rpb24iLCJjbGFzc1NlbGVjdG9yIiwiaXRlbXMiLCJyZW5kZXJlciIsIl9pdGVtcyIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJlbGVtZW50IiwiYXBwZW5kIiwidGhlbiIsInJlcyIsIml0ZW0iLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiaGFuZGxlQ2xpY2tPdXRDbG9zZSIsIndpbmRvdyIsIl9oYW5kbGVFc2NDbG9zZSIsImNsb3NlIiwidGFyZ2V0IiwiY29udGFpbnMiLCJmb3JtVGVtcGxhdGUiLCJyZXBsYWNlIiwiX2dldEZvcm1UZW1wbGF0ZSIsInNldEV2ZW50TGlzdGVuZXJzIiwiUG9wdXBXaXRoSW1hZ2UiLCJfUG9wdXAiLCJfaW5oZXJpdHMiLCJfc3VwZXIiLCJjYWxsIiwicG9wdXAiLCJfZ2V0UG9wdXBUZW1wbGF0ZSIsIl9nZXQiLCJfZ2V0UHJvdG90eXBlT2YiLCJwcm90b3R5cGUiLCJQb3B1cFdpdGhGb3JtIiwiaGFuZGxlRm9ybVN1Ym1pdCIsIl9uYW1lIiwiX2NhcmREYXRhIiwiX2F2YXRhciIsInByZXZlbnREZWZhdWx0IiwiYXBpIiwiQXBpIiwib3B0aW9ucyIsImJhc2VVcmwiLCJoZWFkZXJzIiwiYXV0aG9yaXphdGlvbiIsImZldGNoIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImxvZyIsImFib3V0IiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJfcmVmMiIsImNhcmRJZCIsImF2YXRhciIsIlVzZXJJbmZvIiwiX2NyZWF0ZUNsYXNzIiwidXNlck5hbWUiLCJ1c2VyQWJvdXQiLCJfZ2V0UHJvZmlsZU5hbWUiLCJfZ2V0UHJvZmlsZUFib3V0IiwiUG9wdXBXaXRoQ29uZmlybWF0aW9uIiwicmVuZGVyQ2FyZEZvcm0iLCJyZW5kZXJQcm9maWxlRm9ybSIsInJlbmRlclBpY3R1cmVGb3JtIiwiY2FyZExpc3QiLCJnZXRDYXJkcyIsImNhcmQiLCJwb3B1cEltZyIsIm9wZW4iLCJzZXRMaWtlIiwiY2FyZEVsZW1lbnQiLCJjcmVhdGVDYXJkIiwiX2hhc093bmVyTGlrZWQiLCJhZGRJdGVtIiwibmV3Rm9ybSIsInN1Ym1pdHRlciIsImlubmVyVGV4dCIsImNhcmREYXRhIiwiX2dldElucHV0VmFsdWVzIiwibmV3Q2FyZCIsInByZXBlbmQiLCJzZXRUaW1lb3V0IiwiaXNTaW5nbGVGb3JtIiwiZW5hYmxlVmFsaWRhdGlvbiIsInVzZXIiLCJnZXRVc2VyIiwidXNlckRhdGEiLCJ1c2VySW5mbyIsImVkaXRQcm9maWxlIiwic2V0UHJvZmlsZSIsImdldFVzZXJJbmZvIiwidXJsIiwiX2dldElucHV0VXJsIiwic2V0UHJvZmlsZVBpYyIsIm1haW5Db250YWluZXIiLCJuZXdGb3JtRWxlbWVudCIsIm5leHRFbGVtZW50U2libGluZyIsInJlbW92ZUxpa2UiLCJhZGRMaWtlIl0sInNvdXJjZVJvb3QiOiIifQ==